{
  "version": 1,
  "plugins": {
    "openflow": {
      "controller_endpoint": "tcp:127.0.0.1:6653",
      "auto_discover_containers": true,
      "flow_policies": [
        {
          "name": "container_ingress",
          "selector": "container:*",
          "template": {
            "table": 0,
            "priority": 200,
            "actions": [
              {
                "type": "load_register",
                "register": 0,
                "value": "{container_id}"
              },
              {
                "type": "resubmit",
                "table": 1
              }
            ]
          }
        },
        {
          "name": "container_egress",
          "selector": "container:*",
          "template": {
            "table": 1,
            "priority": 100,
            "actions": [
              {
                "type": "output",
                "port": "LOCAL"
              }
            ],
            "additional_matches": {
              "reg0": "{container_id}"
            }
          }
        }
      ],
      "bridges": [
        {
          "name": "mesh",
          "flows": [
            {
              "table": 0,
              "priority": 0,
              "match_fields": {},
              "actions": [
                {
                  "type": "drop"
                }
              ],
              "idle_timeout": 0,
              "hard_timeout": 0
            }
          ]
        }
      ]
    }
  }
}
